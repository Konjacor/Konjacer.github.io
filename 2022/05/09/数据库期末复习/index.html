<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>数据库期末复习 | 孤舟</title><meta name="keywords" content="数据库,期末保命"><meta name="author" content="Konjacer,1175590069@qq.com"><meta name="copyright" content="Konjacer"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="数据库期末复习重点第一章 绪论名词理解数据​	描述事物的符号记录。 数据库​	概括的讲：数据库数据具有&#x3D;&#x3D;永久存储&#x3D;&#x3D;、&#x3D;&#x3D;有组织&#x3D;&#x3D;和&#x3D;&#x3D;可共享&#x3D;&#x3D;的三个基本特点 数据库管理系统​	是&#x3D;&#x3D;位于用户和操作系统之间&#x3D;&#x3D;的一层数据管理软件，">
<meta property="og:type" content="article">
<meta property="og:title" content="数据库期末复习">
<meta property="og:url" content="https://konjacor.github.io/2022/05/09/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/index.html">
<meta property="og:site_name" content="孤舟">
<meta property="og:description" content="数据库期末复习重点第一章 绪论名词理解数据​	描述事物的符号记录。 数据库​	概括的讲：数据库数据具有&#x3D;&#x3D;永久存储&#x3D;&#x3D;、&#x3D;&#x3D;有组织&#x3D;&#x3D;和&#x3D;&#x3D;可共享&#x3D;&#x3D;的三个基本特点 数据库管理系统​	是&#x3D;&#x3D;位于用户和操作系统之间&#x3D;&#x3D;的一层数据管理软件，">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://konjacor.github.io/img/background.jpeg">
<meta property="article:published_time" content="2022-05-09T11:00:50.000Z">
<meta property="article:modified_time" content="2022-05-14T10:15:50.245Z">
<meta property="article:author" content="Konjacer">
<meta property="article:tag" content="数据库">
<meta property="article:tag" content="期末保命">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://konjacor.github.io/img/background.jpeg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://konjacor.github.io/2022/05/09/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '数据库期末复习',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-05-14 18:15:50'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/xiaozhai.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/background.jpeg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">孤舟</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">数据库期末复习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-09T11:00:50.000Z" title="发表于 2022-05-09 19:00:50">2022-05-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-14T10:15:50.245Z" title="更新于 2022-05-14 18:15:50">2022-05-14</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="数据库期末复习"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><meta name="referrer" content="no-referrer"/>

<h1 id="数据库期末复习重点"><a href="#数据库期末复习重点" class="headerlink" title="数据库期末复习重点"></a>数据库期末复习重点</h1><h2 id="第一章-绪论"><a href="#第一章-绪论" class="headerlink" title="第一章 绪论"></a>第一章 绪论</h2><h3 id="名词理解"><a href="#名词理解" class="headerlink" title="名词理解"></a>名词理解</h3><h4 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h4><p>​	描述事物的符号记录。</p>
<h4 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h4><p>​	概括的讲：数据库数据具有&#x3D;&#x3D;永久存储&#x3D;&#x3D;、&#x3D;&#x3D;有组织&#x3D;&#x3D;和&#x3D;&#x3D;可共享&#x3D;&#x3D;的三个基本特点</p>
<h4 id="数据库管理系统"><a href="#数据库管理系统" class="headerlink" title="数据库管理系统"></a>数据库管理系统</h4><p>​	是&#x3D;&#x3D;位于用户和操作系统之间&#x3D;&#x3D;的一层数据管理软件，和操作系统一样是计算机的基础软件。</p>
<h4 id="数据库系统"><a href="#数据库系统" class="headerlink" title="数据库系统"></a>数据库系统</h4><p>​	是由<strong>数据库</strong>、<strong>数据库管理系统（及其应用开发工具）</strong>、<strong>应用程序</strong>和<strong>数据库管理员（DBA）</strong>组成的&#x3D;&#x3D;存储&#x3D;&#x3D;、&#x3D;&#x3D;管理&#x3D;&#x3D;、&#x3D;&#x3D;处理&#x3D;&#x3D;和&#x3D;&#x3D;维护&#x3D;&#x3D;数据的系统。下面这张图解释了数据库系统之间各个部分之间的关系：</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509193759759.png" alt="image-20220509193759759"></p>
<hr>
<h4 id="人工管理阶段"><a href="#人工管理阶段" class="headerlink" title="人工管理阶段"></a>人工管理阶段</h4><p>​	数据不保存、不共享、不具有独立性。</p>
<h4 id="文件系统阶段"><a href="#文件系统阶段" class="headerlink" title="文件系统阶段"></a>文件系统阶段</h4><p>​	可保存，但共享性差、冗余度大、独立性差。</p>
<h4 id="数据库管理系统阶段"><a href="#数据库管理系统阶段" class="headerlink" title="数据库管理系统阶段"></a>数据库管理系统阶段</h4><p>​	数据库系统的出现使信息系统从&#x3D;&#x3D;以加工数据的程序为中心&#x3D;&#x3D;转向&#x3D;&#x3D;围绕共享的数据库为中心&#x3D;&#x3D;的新阶段。</p>
<p>​	实现了整体数据的结构化，数据的&#x3D;&#x3D;共享性高&#x3D;&#x3D;、&#x3D;&#x3D;冗余度低&#x3D;&#x3D;且&#x3D;&#x3D;易扩充&#x3D;&#x3D;（数据共享可以大大减少数据冗余，节约存储空间）、数据&#x3D;&#x3D;独立性高&#x3D;&#x3D;。</p>
<p>​	数据由数据库管理系统统一管理和控制。</p>
<hr>
<h4 id="两类数据模型"><a href="#两类数据模型" class="headerlink" title="两类数据模型"></a>两类数据模型</h4><p>​	概念模型+逻辑模型和物理模型（人们首先将现实世界抽象为信息世界，然后将信息世界转换为机器世界）</p>
<h4 id="概念模型"><a href="#概念模型" class="headerlink" title="概念模型"></a>概念模型</h4><p>​	也称<strong>信息模型</strong>，它是按用户观点来对数据和信息建模，主要用于数据库设计，&#x3D;&#x3D;以下直到逻辑模型都是概念模型中的说法，注意与后面逻辑模型中的说法区分&#x3D;&#x3D;。</p>
<h4 id="实体"><a href="#实体" class="headerlink" title="实体"></a>实体</h4><p>​	&#x3D;&#x3D;客观存在&#x3D;&#x3D;并&#x3D;&#x3D;可相互区别&#x3D;&#x3D;的事物。比如：人</p>
<h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><p>​	实体所具有的&#x3D;&#x3D;某一特征&#x3D;&#x3D;。比如：人的鼻子、嘴巴</p>
<h4 id="码"><a href="#码" class="headerlink" title="码"></a>码</h4><p>​	&#x3D;&#x3D;唯一标识实体的属性&#x3D;&#x3D;。比如：身份证号</p>
<h4 id="实体型"><a href="#实体型" class="headerlink" title="实体型"></a>实体型</h4><p>​	用&#x3D;&#x3D;实体名&#x3D;&#x3D;及其&#x3D;&#x3D;属性集合&#x3D;&#x3D;来抽象和刻画同类实体。比如：含有鼻子和嘴巴的人</p>
<h4 id="实体集"><a href="#实体集" class="headerlink" title="实体集"></a>实体集</h4><p>​	&#x3D;&#x3D;同一类型&#x3D;&#x3D;实体的集合。比如：学校</p>
<h4 id="联系"><a href="#联系" class="headerlink" title="联系"></a>联系</h4><p>​	实体之间的联系通常是指不同实体集之间的联系。实体之间的联系有一对一、一对多和多对多等多种联系。</p>
<p>​	实体内部的联系通常是指实体各属性之间的联系。</p>
<p>​	概念模型的一种表示方法：实体-联系方法。用E-R图来描述现实世界的概念模型，E-R方法也称为E-R模型。</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509201549307.png" alt="image-20220509201549307"></p>
<h4 id="逻辑模型"><a href="#逻辑模型" class="headerlink" title="逻辑模型"></a>逻辑模型</h4><p>​	它是按计算机系统的观点对数据建模，主要用于数据库管理系统的实现。包括：&#x3D;&#x3D;层次模型&#x3D;&#x3D;、&#x3D;&#x3D;网状模型&#x3D;&#x3D;、&#x3D;&#x3D;关系模型&#x3D;&#x3D;。</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509201745152.png" alt="image-20220509201745152"></p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509201812571.png" alt="image-20220509201812571"></p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509201846932.png" alt="image-20220509201846932"></p>
<h4 id="物理模型"><a href="#物理模型" class="headerlink" title="物理模型"></a>物理模型</h4><p>​	是对数据最底层的抽象，它描述数据在系统内部的表示方法和存取方法，或在磁盘或者磁带上的存储方式和存取方法，是面向计算机系统的。</p>
<hr>
<p><em>以下直到分割线都是逻辑模型中的说法，注意和之前概念模型中的说法区分开。</em></p>
<h4 id="关系"><a href="#关系" class="headerlink" title="关系"></a>关系</h4><p>​	一个关系对应一张表</p>
<h4 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h4><p>​	表中的一行</p>
<h4 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h4><p>​	表中的一列</p>
<h4 id="码-1"><a href="#码-1" class="headerlink" title="码"></a>码</h4><p>​	也称码键，是表中的某个属性组</p>
<h4 id="域"><a href="#域" class="headerlink" title="域"></a>域</h4><p>​	是一组具有相同数据类型的值的集合</p>
<h4 id="分量"><a href="#分量" class="headerlink" title="分量"></a>分量</h4><p>​	元组中的一个属性</p>
<hr>
<h3 id="数据库系统的结构"><a href="#数据库系统的结构" class="headerlink" title="数据库系统的结构"></a>数据库系统的结构</h3><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509202757163.png" alt="image-20220509202757163"></p>
<p>​	<img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509202908686.png" alt="image-20220509202908686"></p>
<h3 id="数据库系统的组成"><a href="#数据库系统的组成" class="headerlink" title="数据库系统的组成"></a>数据库系统的组成</h3><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509202946472.png" alt="image-20220509202946472"></p>
<hr>
<h2 id="第二章-关系数据库"><a href="#第二章-关系数据库" class="headerlink" title="第二章 关系数据库"></a>第二章 关系数据库</h2><h3 id="关系模式（了解即可）"><a href="#关系模式（了解即可）" class="headerlink" title="关系模式（了解即可）"></a>关系模式（了解即可）</h3><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509204908291.png" alt="image-20220509204908291"></p>
<hr>
<h3 id="关系操作"><a href="#关系操作" class="headerlink" title="关系操作"></a>关系操作</h3><p>​	关系操作分为插入、查询、删除、修改。</p>
<p>​	其中查询操作分为：选择、投影、连接、除法、并、差、交、笛卡尔积。</p>
<p>​	查询操作的基本操作：选择、投影、并、差、笛卡尔积</p>
<hr>
<h3 id="关系语言的分类"><a href="#关系语言的分类" class="headerlink" title="关系语言的分类"></a>关系语言的分类</h3><p>​	分为关系代数语言（重点）、关系演算语言（不重要）、SQL语言（重点）。</p>
<hr>
<h3 id="关系代数语言"><a href="#关系代数语言" class="headerlink" title="关系代数语言"></a>关系代数语言</h3><p>​	<img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509231814646.png" alt="image-20220509231814646"></p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509231835322.png" alt="image-20220509231835322"></p>
<h4 id="交"><a href="#交" class="headerlink" title="交"></a>交</h4><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509231949417.png" alt="image-20220509231949417"></p>
<h4 id="并"><a href="#并" class="headerlink" title="并"></a>并</h4><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509232011431.png" alt="image-20220509232011431"></p>
<h4 id="差"><a href="#差" class="headerlink" title="差"></a>差</h4><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509232030942.png" alt="image-20220509232030942"></p>
<h4 id="笛卡尔积"><a href="#笛卡尔积" class="headerlink" title="笛卡尔积"></a>笛卡尔积</h4><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509232146062.png" alt="image-20220509232146062"></p>
<p>​	实际上就是两个关系的&#x3D;&#x3D;全排列&#x3D;&#x3D;，注意不要遗漏记录，而且注意&#x3D;&#x3D;新表的属性名是有改变的&#x3D;&#x3D;，主要是为了区分两个不同关系的属性，而且&#x3D;&#x3D;新表的属性相对于之前的表的属性来说是没有缺失的&#x3D;&#x3D;。</p>
<h4 id="选择"><a href="#选择" class="headerlink" title="选择"></a>选择</h4><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509233303438.png" alt="image-20220509233303438"></p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509233345545.png" alt="image-20220509233345545"></p>
<p>​	注意选择的时候，&#x3D;&#x3D;条件要写在符号下面&#x3D;&#x3D;，然后&#x3D;&#x3D;括号里写要进行操作的表&#x3D;&#x3D;，最后&#x3D;&#x3D;查出来的结果是一个表&#x3D;&#x3D;。</p>
<h4 id="投影"><a href="#投影" class="headerlink" title="投影"></a>投影</h4><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220509233739822.png" alt="image-20220509233739822"></p>
<p>​	如果说选择是选择出来了符合要求的元组组成的新表，那么投影就是选择出来了指定的属性组成的新表。选择操作是筛选行，投影操作是筛选列。&#x3D;&#x3D;投影符号下面要写想要做投影的属性&#x3D;&#x3D;，如果有多个，则用逗号隔开。</p>
<h4 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h4><p>​	连接分为4种：</p>
<p>​	<img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220510102632880.png" alt="image-20220510102632880"></p>
<h5 id="自然连接"><a href="#自然连接" class="headerlink" title="自然连接"></a>自然连接</h5><p>​	把共同属性进行等值连接。就是&#x3D;&#x3D;把两个表中具有相同公共属性值的记录之间做笛卡尔积&#x3D;&#x3D;，得到的&#x3D;&#x3D;结果是个新表&#x3D;&#x3D;，&#x3D;&#x3D;结果中没有重复的属性&#x3D;&#x3D;。</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220510103253808.png" alt="image-20220510103253808"></p>
<h5 id="悬浮元组"><a href="#悬浮元组" class="headerlink" title="悬浮元组"></a>悬浮元组</h5><p>​	两个关系R和S在做自然连接时，关系R中某些元组有可能在S中不存在公共属性上值相等的元组，从而造成R中这些元组在操作时被舍弃了，这些被舍弃的元组称为悬浮元组。S中被舍弃的元组也是悬浮元组。</p>
<h5 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h5><p>​	如果把悬浮元组也保存在结果关系中，而在其他属性上填空值Null，就叫做外连接，注意这里的悬浮元组包括左右两边的悬浮元组。</p>
<h5 id="左外连接"><a href="#左外连接" class="headerlink" title="左外连接"></a>左外连接</h5><p>​	结果关系只保留左边关系中的悬浮元组。</p>
<h5 id="右外连接"><a href="#右外连接" class="headerlink" title="右外连接"></a>右外连接</h5><p>​	结果关系只保留右边关系中的悬浮元组。</p>
<h4 id="除"><a href="#除" class="headerlink" title="除"></a>除</h4><p>​	结果关系中&#x3D;&#x3D;保留R中满足和S具有相同的所有公共属性值的记录&#x3D;&#x3D;，而且&#x3D;&#x3D;去掉R中S的属性&#x3D;&#x3D;。</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220510114022738.png" alt="image-20220510114022738"></p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220510114056226.png" alt="image-20220510114056226"></p>
<hr>
<h3 id="关系的完整性"><a href="#关系的完整性" class="headerlink" title="关系的完整性"></a>关系的完整性</h3><h4 id="实体完整性"><a href="#实体完整性" class="headerlink" title="实体完整性"></a>实体完整性</h4><p>​	主码唯一且非空</p>
<h4 id="参照完整性"><a href="#参照完整性" class="headerlink" title="参照完整性"></a>参照完整性</h4><p>​	外码要么为空，要么对应另一个表的主码。外码指的是别的表的属性，一般用来关联两个表。</p>
<h4 id="用户定义完整性"><a href="#用户定义完整性" class="headerlink" title="用户定义完整性"></a>用户定义完整性</h4><p>​	用户自己定义的关系要完整，不能有关键属性的遗漏。</p>
<hr>
<h2 id="第三章-SQL语言"><a href="#第三章-SQL语言" class="headerlink" title="第三章 SQL语言"></a>第三章 SQL语言</h2><h3 id="SQL的基本概念"><a href="#SQL的基本概念" class="headerlink" title="SQL的基本概念"></a>SQL的基本概念</h3><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220510122402291.png" alt="image-20220510122402291"></p>
<p>下面是几种数据库管理系统（分为关系型和非关系型）：</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220510122542427.png" alt="image-20220510122542427"></p>
<p>不同数据库管理系统的SQL语言略有不同：</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220510122618652.png" alt="image-20220510122618652"></p>
<h3 id="SQL语言的特点"><a href="#SQL语言的特点" class="headerlink" title="SQL语言的特点"></a>SQL语言的特点</h3><p><strong>SQL语言的关键字不区分大小写。</strong></p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220510122814270.png" alt="image-20220510122814270"></p>
<h3 id="SQL的基本语法"><a href="#SQL的基本语法" class="headerlink" title="SQL的基本语法"></a>SQL的基本语法</h3><h4 id="SQL的数据类型（变量类型）"><a href="#SQL的数据类型（变量类型）" class="headerlink" title="SQL的数据类型（变量类型）"></a>SQL的数据类型（变量类型）</h4><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220510143149098.png" alt="image-20220510143149098"></p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220510143214463.png" alt="image-20220510143214463"></p>
<p>​	Decimal(p,d)，&#x3D;&#x3D;p指定它由几位数字组成&#x3D;&#x3D;，不包括小数点和符号，&#x3D;&#x3D;d指明小数点后有几位数字&#x3D;&#x3D;。</p>
<h4 id="模式定义-amp-删除"><a href="#模式定义-amp-删除" class="headerlink" title="模式定义&amp;删除"></a>模式定义&amp;删除</h4><h5 id="模式定义"><a href="#模式定义" class="headerlink" title="模式定义"></a>模式定义</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> schema <span class="operator">&lt;</span>模式名<span class="operator">&gt;</span> <span class="keyword">authorization</span> <span class="operator">&lt;</span>用户名<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<p>这个语句就是为指定用户定义了一个模式。</p>
<h5 id="模式定义-视图"><a href="#模式定义-视图" class="headerlink" title="模式定义+视图"></a>模式定义+视图</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> schema <span class="operator">&lt;</span>模式名<span class="operator">&gt;</span> <span class="keyword">authorization</span> <span class="operator">&lt;</span>用户名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>表定义子句<span class="operator">&gt;</span><span class="operator">|</span><span class="operator">&lt;</span>视图定义子句<span class="operator">&gt;</span><span class="operator">|</span><span class="operator">&lt;</span>授权定义子句<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>

<h5 id="模式删除"><a href="#模式删除" class="headerlink" title="模式删除"></a>模式删除</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> schema <span class="operator">&lt;</span>模式名<span class="operator">&gt;</span> <span class="operator">&lt;</span>cascade<span class="operator">|</span>restrict<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220510144857155.png" alt="image-20220510144857155"></p>
<h4 id="表的定义和删除和修改"><a href="#表的定义和删除和修改" class="headerlink" title="表的定义和删除和修改"></a>表的定义和删除和修改</h4><h5 id="表的定义"><a href="#表的定义" class="headerlink" title="表的定义"></a>表的定义</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span>(<span class="operator">&lt;</span>字段名<span class="operator">&gt;</span> <span class="operator">&lt;</span>数据类型<span class="operator">&gt;</span> [字段约束][,<span class="operator">&lt;</span>字段名<span class="operator">&gt;</span> <span class="operator">&lt;</span>数据类型<span class="operator">&gt;</span> [字段约束]]......);</span><br></pre></td></tr></table></figure>

<p>主键的字段约束是：primary key</p>
<h5 id="表的删除"><a href="#表的删除" class="headerlink" title="表的删除"></a>表的删除</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [restrict<span class="operator">|</span>cascade];</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220510150233838.png" alt="image-20220510150233838"></p>
<p>如果一个表有外键、视图、触发器等的话，用cascade也会强行删除该表，但是用restrict就不会删除该表。</p>
<h5 id="表的修改"><a href="#表的修改" class="headerlink" title="表的修改"></a>表的修改</h5><p>以添加属性为例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="keyword">add</span> [<span class="keyword">column</span>] <span class="operator">&lt;</span>新列名<span class="operator">&gt;</span> <span class="operator">&lt;</span>数据类型<span class="operator">&gt;</span> [完整性约束]] [<span class="keyword">add</span> <span class="operator">&lt;</span>表级完整性约束<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220510151910797.png" alt="image-20220510151910797"></p>
<h4 id="索引的建立、修改和删除"><a href="#索引的建立、修改和删除" class="headerlink" title="索引的建立、修改和删除"></a>索引的建立、修改和删除</h4><p><strong>当数据量比较大的时候，查询耗 时长，建立索引可以有效减少消耗时间，索引可以建立在一列或者多列上，索引应该是独一无二的。</strong></p>
<h5 id="索引的建立"><a href="#索引的建立" class="headerlink" title="索引的建立"></a>索引的建立</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> [<span class="keyword">unique</span>] [cluster] index <span class="operator">&lt;</span>索引名<span class="operator">&gt;</span> <span class="keyword">on</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span>(<span class="operator">&lt;</span>列名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>次序<span class="operator">&gt;</span>][,(<span class="operator">&lt;</span>列名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>次序<span class="operator">&gt;</span>]]......);</span><br></pre></td></tr></table></figure>

<p>cluster：聚簇索引，物理顺序与索引的逻辑顺序相同</p>
<p>unique：唯一索引</p>
<p>例：</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220510153031276.png" alt="image-20220510153031276"></p>
<h5 id="索引的修改"><a href="#索引的修改" class="headerlink" title="索引的修改"></a>索引的修改</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> index <span class="operator">&lt;</span>旧索引名<span class="operator">&gt;</span> rename <span class="keyword">to</span> <span class="operator">&lt;</span>新索引名<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220510153306184.png" alt="image-20220510153306184"></p>
<h5 id="索引的删除"><a href="#索引的删除" class="headerlink" title="索引的删除"></a>索引的删除</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> index <span class="operator">&lt;</span>索引名<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220510153350218.png" alt="image-20220510153350218"></p>
<h4 id="查询列"><a href="#查询列" class="headerlink" title="查询列"></a>查询列</h4><h5 id="查询部分列"><a href="#查询部分列" class="headerlink" title="查询部分列"></a>查询部分列</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">&lt;</span>列名<span class="operator">&gt;</span> [<span class="keyword">as</span>] [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>][,<span class="operator">&lt;</span>列名<span class="operator">&gt;</span> [<span class="keyword">as</span>] [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>]......] <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="keyword">as</span>] [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>

<p>​	最后查出来的结果是由指定的列组成的表。</p>
<p>​	如果给列起了别名，那么最后查出来的那个表中对应列的名字是起的别名。</p>
<p>​	如果给表起了别名，那么以后就可以直接用别名来操作对应的表。</p>
<h5 id="查询所有列"><a href="#查询所有列" class="headerlink" title="查询所有列"></a>查询所有列</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表名;</span><br></pre></td></tr></table></figure>

<h5 id="结果去重"><a href="#结果去重" class="headerlink" title="结果去重"></a>结果去重</h5><p>在select后加<strong>distinct关键字</strong>即可。例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<h5 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h5><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220511122854804.png" alt="image-20220511122854804"></p>
<p>​	在使用条件查询的时候，在普通查询语句的后面要写一个<strong>where关键字</strong>，在where后面写条件表达式。最后的结果是指定表中所有符合条件表达式的记录的指定列组成的新表。例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> <span class="keyword">where</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>



<p>​	可以直接在select后面写条件表达式，这样最后查出来的表名是写的条件表达式，其中的值就是条件表达式的值。</p>
<p>​	在sql中**’%’表示匹配任意多个字符<strong>，</strong>‘_’表示匹配任意单个字符**，这个在条件查询中构建条件正则表达式时会用到。</p>
<p>​	在构建条件表达式时，这些关键字的应用符合大多数编程语言构建条件表达式时的习惯，也比较符合自然语言的习惯.</p>
<h4 id="聚集函数"><a href="#聚集函数" class="headerlink" title="聚集函数"></a>聚集函数</h4><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220511125537790.png" alt="image-20220511125537790"></p>
<p>​	聚集函数通常放在select后面使用，查出来的表名是聚集函数名，查出来的值是聚集函数的值。例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h4><p>​	分组查询<strong>一般用于统计数据</strong>，使用分组能让汇总结果一目了然，<strong>一般要配合聚合函数一起使用</strong>。</p>
<p>​	在普通查询的后面添加<strong>group by关键字</strong>然后写列名来根据指定的列名进行分组，返回的结果是所有分组的指定列的值，如果要是想根据条件筛选组的话，可以在最后添加<strong>having关键字</strong>然后构造条件表达式，注意having和where不同之处在于<strong>where是对分组前的信息做筛选</strong>而<strong>having是对分组之后的信息做筛选</strong>。</p>
<p>​	注意这个东西查出来的结果很像去重，但是实际上<strong>不是去重</strong>，是分组，对应列的值相同的记录且满足指定条件的分到同一组中，<strong>前面select后面不能是’*’，可以写用来分组的列或者是一些聚集函数</strong>，通过搭配聚集函数可以实现更高级的查询操作。例如根据deptno分组，查询每个分组sal的汇总值：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> deptno,<span class="built_in">sum</span>(sal) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno [<span class="keyword">having</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>

<h4 id="表的连接"><a href="#表的连接" class="headerlink" title="表的连接"></a>表的连接</h4><h5 id="非等值连接"><a href="#非等值连接" class="headerlink" title="非等值连接"></a>非等值连接</h5><p>​	即两个表之间做笛卡尔积。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] [,<span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>]......];</span><br></pre></td></tr></table></figure>

<h5 id="等值连接"><a href="#等值连接" class="headerlink" title="等值连接"></a>等值连接</h5><p>​	在非等值连接的基础上通过where关键字来构建连接条件即可，最后的结果会把多表中满足条件表达式的记录做笛卡尔积，如果要访问表中的列，需要使用**表名(或别名).列名(或别名)**来进行访问。如果条件表达式中有类似于两表之中某属性相同这样的条件，那么查出来的结果表中，两表相同的属性会被合并。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] [,<span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>]......] <span class="keyword">where</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<h5 id="自身连接"><a href="#自身连接" class="headerlink" title="自身连接"></a>自身连接</h5><p>​	即一个表与自身进行连接操作，可以为同一个表起多个别名然后进行操作。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> <span class="operator">&lt;</span>别名<span class="operator">&gt;</span> , <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> <span class="operator">&lt;</span>别名<span class="operator">&gt;</span>...... [<span class="keyword">where</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>

<h5 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h5><p>​	用<strong>inner join关键字</strong>和<strong>on关键字</strong>来实现两表内连接，on后面写构造的条件表达式，结果是满足条件的记录之间做内连接。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] <span class="keyword">inner</span> <span class="keyword">join</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] [<span class="keyword">on</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>

<h5 id="外连接-1"><a href="#外连接-1" class="headerlink" title="外连接"></a>外连接</h5><p>​	用<strong>full join关键字</strong>和<strong>on关键字</strong>来实现两表外连接，on后面写构造的条件表达式，结果是满足条件的记录之间做外连接。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] <span class="keyword">full</span> <span class="keyword">outer</span> <span class="keyword">join</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] [<span class="keyword">on</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>

<h5 id="左外连接-1"><a href="#左外连接-1" class="headerlink" title="左外连接"></a>左外连接</h5><p>​	用<strong>left outer join关键字</strong>和<strong>on关键字</strong>来实现两表右外连接，on后面写构造的条件表达式，结果是满足条件的记录之间做左外连接。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] [<span class="keyword">on</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>

<h5 id="右外连接-1"><a href="#右外连接-1" class="headerlink" title="右外连接"></a>右外连接</h5><p>​	用<strong>right outer join关键字</strong>和<strong>on关键字</strong>来实现两表右外连接，on后面写构造的条件表达式，结果是满足条件的记录之间做右外连接。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] <span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] [<span class="keyword">on</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>

<h5 id="多表连接"><a href="#多表连接" class="headerlink" title="多表连接"></a>多表连接</h5><p>​	如果有两个以上的表来进行内连接、外连接、左外连接、右外连接的话，只需要在后面继续添加关键字即可。例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] <span class="keyword">inner</span> <span class="keyword">join</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] [<span class="keyword">on</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>] <span class="keyword">full</span> <span class="keyword">outer</span> <span class="keyword">join</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] [<span class="keyword">on</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>]......;</span><br></pre></td></tr></table></figure>

<h4 id="嵌套查询"><a href="#嵌套查询" class="headerlink" title="嵌套查询"></a>嵌套查询</h4><p>​	只需要将内嵌的查询语句放到需要的位置即可，要注意查询返回的结果都是表，因此应该放到需要表作为参数的地方。例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] <span class="keyword">where</span> <span class="operator">&lt;</span>列名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] <span class="keyword">in</span> (<span class="operator">&lt;</span>查询语句<span class="operator">&gt;</span>);</span><br></pre></td></tr></table></figure>

<p>这样就是查出了所有对应表中列的值在内嵌查询语句查出来的表中的列。</p>
<h4 id="带有any、all的子查询"><a href="#带有any、all的子查询" class="headerlink" title="带有any、all的子查询"></a>带有any、all的子查询</h4><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220511155425075.png" alt="image-20220511155425075"></p>
<p>​	一般用在条件表达式中。例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] <span class="keyword">where</span> <span class="operator">&lt;</span>列名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] <span class="operator">&gt;</span><span class="keyword">all</span> (<span class="operator">&lt;</span>查询语句<span class="operator">&gt;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="带exists的子查询"><a href="#带exists的子查询" class="headerlink" title="带exists的子查询"></a>带exists的子查询</h4><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220511160129225.png" alt="image-20220511160129225"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] <span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span> (<span class="operator">&lt;</span>查询语句<span class="operator">&gt;</span>);</span><br></pre></td></tr></table></figure>



<p>考试必考经典案例：</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220511160728558.png" alt="image-20220511160728558"></p>
<p>我看的有点不是很懂。。。之后看懂了再来改这个地方罢。。。</p>
<h4 id="集合查询"><a href="#集合查询" class="headerlink" title="集合查询"></a>集合查询</h4><h5 id="并-1"><a href="#并-1" class="headerlink" title="并"></a>并</h5><p>​	通过<strong>union关键字</strong>来对两个查询结果做并操作。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&lt;</span>查询语句<span class="operator">&gt;</span> <span class="keyword">union</span> <span class="operator">&lt;</span>查询语句<span class="operator">&gt;</span> ......;</span><br></pre></td></tr></table></figure>

<h5 id="交-1"><a href="#交-1" class="headerlink" title="交"></a>交</h5><p>​	通过<strong>intersect关键字</strong>来对两个查询结果做交操作。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&lt;</span>查询语句<span class="operator">&gt;</span> <span class="keyword">intersect</span> <span class="operator">&lt;</span>查询语句<span class="operator">&gt;</span> ......;</span><br></pre></td></tr></table></figure>

<h5 id="差-1"><a href="#差-1" class="headerlink" title="差"></a>差</h5><p>​	通过<strong>except关键字</strong>来对两个查询结果做差操作。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&lt;</span>查询语句<span class="operator">&gt;</span> <span class="keyword">except</span> <span class="operator">&lt;</span>查询语句<span class="operator">&gt;</span> ......;</span><br></pre></td></tr></table></figure>

<h4 id="数据插入"><a href="#数据插入" class="headerlink" title="数据插入"></a>数据插入</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [(字段列表)] <span class="keyword">values</span> (值列表)[,(值列表)......];</span><br></pre></td></tr></table></figure>

<p>​	注意<strong>字段列表和值列表要加括号</strong>，不写字段列表的话默认就是给表里所有字段添加值(此时要写全字段的值，不然会报错)，可以批量添加多组值。</p>
<h4 id="数据修改"><a href="#数据修改" class="headerlink" title="数据修改"></a>数据修改</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> <span class="keyword">set</span> <span class="operator">&lt;</span>字段名<span class="operator">&gt;</span> <span class="operator">=</span> <span class="operator">&lt;</span>值<span class="operator">&gt;</span>[, <span class="operator">&lt;</span>字段名<span class="operator">&gt;</span> <span class="operator">=</span> <span class="operator">&lt;</span>值<span class="operator">&gt;</span>......] <span class="keyword">where</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<p>​	where用来找到想要修改的记录。</p>
<h4 id="数据删除"><a href="#数据删除" class="headerlink" title="数据删除"></a>数据删除</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="keyword">where</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>

<p>​	是以记录为单位进行删除，where用来找到想要删除的记录。</p>
<p>​	也存在一些很特别的delete语句，比如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> p1 <span class="keyword">from</span> Person p1,Person p2 <span class="keyword">where</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p>​	这个语句实际上是删除p1中p1和p2做笛卡尔积时满足后面条件的记录。这种写法不常见。</p>
<h4 id="视图的概念"><a href="#视图的概念" class="headerlink" title="视图的概念"></a>视图的概念</h4><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220512121221056.png" alt="image-20220512121221056"></p>
<p>​	实际上这个视图区别于普通的表的地方在于，他不是在物理层中真实存在的表，只是一个虚表，<strong>是一组数据的逻辑表示</strong>，其<strong>本质是对应着一条select语句</strong>，如果要查的东西横跨好几张表，每次都现用sql语句进行连接查询的话效率太低，这种情况下就可以先把那些表连接起来组成一个视图，然后以后每次查的时候查这个视图就可以了，大大优化了查询的效率。**当基表数据发生变化时，视图的数据也会随之变化(因为本质时select语句嘛，基表数据变了，select出来的数据肯定会跟着改变)**。</p>
<p>​	对视图所进行的操作语句，都会被关系数据库管理系统转换为对表的操作语句，两者之间一般会有所区别。</p>
<h4 id="创建视图"><a href="#创建视图" class="headerlink" title="创建视图"></a>创建视图</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> <span class="operator">&lt;</span>视图名<span class="operator">&gt;</span> [(<span class="operator">&lt;</span>列名<span class="operator">&gt;</span>[,<span class="operator">&lt;</span>列名<span class="operator">&gt;</span>......])] <span class="keyword">as</span> <span class="operator">&lt;</span>子查询语句<span class="operator">&gt;</span> [<span class="keyword">with</span> <span class="keyword">check</span> option];</span><br></pre></td></tr></table></figure>

<p>​	<img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220512122815174.png" alt="image-20220512122815174"></p>
<p>​	加上<strong>with check option</strong>意味着在对视图进行insert、delete、update操作时，关系数据库管理系统会在子查询的条件表达式的基础上进行增删改，可以有效防止脏数据的产生。</p>
<h4 id="删除视图"><a href="#删除视图" class="headerlink" title="删除视图"></a>删除视图</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> <span class="operator">&lt;</span>视图名<span class="operator">&gt;</span> [cascade];</span><br></pre></td></tr></table></figure>

<p>​	加上<strong>cascade（级联）</strong>会把该视图和所有由它导出的视图一起删掉。</p>
<h4 id="查询视图"><a href="#查询视图" class="headerlink" title="查询视图"></a>查询视图</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="operator">&lt;</span>视图名<span class="operator">&gt;</span> [<span class="keyword">where</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>

<p>​	把视图当成一个表进行查询即可，规则和查询表相同。</p>
<h4 id="更新视图"><a href="#更新视图" class="headerlink" title="更新视图"></a>更新视图</h4><p>​	由于视图并不是真实存在的，因此我们对视图进行的操作，<strong>最终要反映到对基本表的操作</strong>。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> <span class="operator">&lt;</span>视图名<span class="operator">&gt;</span> <span class="keyword">set</span> <span class="operator">&lt;</span>字段名<span class="operator">&gt;</span> <span class="operator">=</span> <span class="operator">&lt;</span>值<span class="operator">&gt;</span>[, <span class="operator">&lt;</span>字段名<span class="operator">&gt;</span> <span class="operator">=</span> <span class="operator">&lt;</span>值<span class="operator">&gt;</span>......] <span class="keyword">where</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<p>​	也是将视图当成一个表进行更新即可，规则和修改表相同。</p>
<h4 id="if条件语句"><a href="#if条件语句" class="headerlink" title="if条件语句"></a>if条件语句</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> if(<span class="operator">&lt;</span>表达式<span class="number">1</span><span class="operator">&gt;</span>,<span class="operator">&lt;</span>表达式<span class="number">2</span><span class="operator">&gt;</span>,<span class="operator">&lt;</span>表达式<span class="number">3</span><span class="operator">&gt;</span>) [<span class="keyword">as</span> <span class="operator">&lt;</span>别名<span class="operator">&gt;</span>] <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<p>​	以上是if条件语句的应用之一，如果表达式1的值是true，那么if语句会返回表达式2的值；如果表达式2的值是false，那么if语句会返回表达式3的值。</p>
<h4 id="对数据进行排序"><a href="#对数据进行排序" class="headerlink" title="对数据进行排序"></a>对数据进行排序</h4><hr>
<h2 id="第四章-数据库的安全性"><a href="#第四章-数据库的安全性" class="headerlink" title="第四章 数据库的安全性"></a>第四章 数据库的安全性</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><h4 id="不安全因素"><a href="#不安全因素" class="headerlink" title="不安全因素"></a>不安全因素</h4><p>1、非授权对数据库的恶意存取和破坏。</p>
<p>2、数据库中重要的数据泄露。</p>
<p>3、安全环境的脆弱性。</p>
<h4 id="自主存取控制方法"><a href="#自主存取控制方法" class="headerlink" title="自主存取控制方法"></a>自主存取控制方法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="operator">&lt;</span>权限<span class="operator">&gt;</span> <span class="keyword">on</span> <span class="keyword">table</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> <span class="keyword">to</span> <span class="operator">&lt;</span>用户<span class="operator">&gt;</span>; <span class="comment">/*授予权限*/</span></span><br><span class="line"><span class="keyword">revoke</span> <span class="operator">&lt;</span>权限<span class="operator">&gt;</span> <span class="keyword">on</span> <span class="keyword">table</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> <span class="keyword">from</span> <span class="operator">&lt;</span>用户<span class="operator">&gt;</span>; <span class="comment">/*撤销权限*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span><span class="operator">&lt;</span>username<span class="operator">&gt;</span> <span class="keyword">with</span> ; <span class="comment">/*创建用户*/</span></span><br></pre></td></tr></table></figure>

<h3 id="安全性控制"><a href="#安全性控制" class="headerlink" title="安全性控制"></a>安全性控制</h3><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220512140759820.png" alt="image-20220512140759820"></p>
<h3 id="主要存取权限"><a href="#主要存取权限" class="headerlink" title="主要存取权限"></a>主要存取权限</h3><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220512141151384.png" alt="image-20220512141151384"></p>
<p>​	<strong>reference权限代表是否允许创建外键</strong>，<strong>all privileges权限代表授予所有权限</strong>。</p>
<h3 id="授权"><a href="#授权" class="headerlink" title="授权"></a>授权</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="operator">&lt;</span>权限<span class="operator">&gt;</span> <span class="keyword">on</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span>[(<span class="operator">&lt;</span>列名<span class="operator">&gt;</span>[,<span class="operator">&lt;</span>列名<span class="operator">&gt;</span>......])] <span class="keyword">to</span> <span class="operator">&lt;</span>用户名<span class="operator">&gt;</span> [<span class="keyword">with</span> <span class="keyword">grant</span> option];</span><br></pre></td></tr></table></figure>

<p>​	授权命令是由数据库管理员使用的，若给用户分配权限时带<strong>with grant option</strong>子句，则普通用户获权后，可把自己的权限授予其他用户。如果不写列名的话会把整个表的权限授予给用户。</p>
<h3 id="回收权限"><a href="#回收权限" class="headerlink" title="回收权限"></a>回收权限</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">revoke</span> <span class="operator">&lt;</span>权限<span class="operator">&gt;</span> <span class="keyword">on</span> <span class="operator">&lt;</span>数据对象<span class="operator">&gt;</span> <span class="keyword">from</span> <span class="operator">&lt;</span>用户名<span class="operator">&gt;</span> [cascade];</span><br></pre></td></tr></table></figure>

<p>​	如果加上<strong>cascade关键字（级联）</strong>，关系数据库管理系统会将该用户及其分配出去的权限全部回收。</p>
<h3 id="数据库角色"><a href="#数据库角色" class="headerlink" title="数据库角色"></a>数据库角色</h3><p>​	角色指的是一类人，可以直接给角色进行授权，然后让用户扮演对应的角色，用户就能获取对应角色的所有权限了。</p>
<h4 id="创建角色"><a href="#创建角色" class="headerlink" title="创建角色"></a>创建角色</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> role <span class="operator">&lt;</span>角色名<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="角色授权"><a href="#角色授权" class="headerlink" title="角色授权"></a>角色授权</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="operator">&lt;</span>权限<span class="operator">&gt;</span> <span class="keyword">on</span> <span class="operator">&lt;</span>对象类型<span class="operator">&gt;</span> <span class="operator">&lt;</span>对象名<span class="operator">&gt;</span> <span class="keyword">to</span> <span class="operator">&lt;</span>角色名<span class="operator">&gt;</span> [, <span class="operator">&lt;</span>角色名<span class="operator">&gt;</span>......];</span><br></pre></td></tr></table></figure>

<h4 id="把角色授权给用户或者其他角色"><a href="#把角色授权给用户或者其他角色" class="headerlink" title="把角色授权给用户或者其他角色"></a>把角色授权给用户或者其他角色</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="operator">&lt;</span>角色名<span class="operator">&gt;</span> <span class="keyword">to</span> <span class="operator">&lt;</span>角色或用户名<span class="operator">&gt;</span> [<span class="keyword">with</span> admin option];</span><br></pre></td></tr></table></figure>

<p>​	如果加上<strong>with admin option</strong>，意味着这个用户还可以把这权限授予给其他角色或用户。</p>
<h4 id="回收角色权限"><a href="#回收角色权限" class="headerlink" title="回收角色权限"></a>回收角色权限</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">revoke</span> <span class="operator">&lt;</span>权限<span class="operator">&gt;</span> <span class="keyword">on</span> <span class="operator">&lt;</span>对象名<span class="operator">&gt;</span> <span class="keyword">from</span> <span class="operator">&lt;</span>角色名<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="视图机制"><a href="#视图机制" class="headerlink" title="视图机制"></a>视图机制</h3><p>​	为不同的用户定义不同的视图，把不需要的数据给隐藏起来，这样用户就不会进行误操作。</p>
<p>​	总而言之就是<strong>可以将视图当成一个数据对象来定义别的用户或者是角色对它的存取权限</strong>，定义方式同上。</p>
<h3 id="审计"><a href="#审计" class="headerlink" title="审计"></a>审计</h3><p>​	把对数据库的所有操作都记录到审计日志中，然后就可以通过日志审查这个里面是否有一些非法的行为。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">audit <span class="operator">&lt;</span>操作语句<span class="operator">&gt;</span>;<span class="comment">/*对指定操作进行审计*/</span></span><br><span class="line">noaudit <span class="operator">&lt;</span>操作语句<span class="operator">&gt;</span>;<span class="comment">/*取消对指定操作的审计*/</span></span><br></pre></td></tr></table></figure>

<h3 id="数据加密"><a href="#数据加密" class="headerlink" title="数据加密"></a>数据加密</h3><p>​	通过一些加密算法，把明文变成密文，这样别人就无法直接查看数据了。</p>
<hr>
<h2 id="第五章-数据库的完整性"><a href="#第五章-数据库的完整性" class="headerlink" title="第五章 数据库的完整性"></a>第五章 数据库的完整性</h2><h3 id="正确性"><a href="#正确性" class="headerlink" title="正确性"></a>正确性</h3><p>​	符合对现实世界的描述。</p>
<h3 id="相容性"><a href="#相容性" class="headerlink" title="相容性"></a>相容性</h3><p>​	同一对象在不同表里面是符合逻辑的。比如我的地址、年龄在两个表里面都应一致。</p>
<h3 id="维护完整性"><a href="#维护完整性" class="headerlink" title="维护完整性"></a>维护完整性</h3><p>1、提供定义完整性约束条件的机制</p>
<p>2、提供完整性检查的方法</p>
<p>3、进行违约处理</p>
<h3 id="三大完整性"><a href="#三大完整性" class="headerlink" title="三大完整性"></a>三大完整性</h3><h4 id="实体完整性-1"><a href="#实体完整性-1" class="headerlink" title="实体完整性"></a>实体完整性</h4><p>​	<strong>主码唯一且非空</strong>。主码应该被<strong>not null</strong>和<strong>primary key</strong>这两个约束来修饰。也可在后面用**primary key(列名)**来指定主码。例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> course(id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span>,<span class="type">time</span> <span class="type">varchar</span>(<span class="number">255</span>),<span class="keyword">primary</span> key(id));</span><br><span class="line">或</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> course(id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">primary</span> key,<span class="type">time</span> <span class="type">varchar</span>(<span class="number">255</span>));</span><br></pre></td></tr></table></figure>

<h4 id="参照完整性-1"><a href="#参照完整性-1" class="headerlink" title="参照完整性"></a>参照完整性</h4><p>​	<strong>外码要么没有，要么只有一个</strong>。设置外键可以使用**foreign key(列名) references 表名(列名)**来进行声明，意思是将前面的那个列作为外键关联后面指定表中的列。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> course(id <span class="type">int</span>,<span class="type">time</span> <span class="type">varchar</span>(<span class="number">255</span>),title <span class="type">varchar</span>(<span class="number">255</span>),teacher_id <span class="type">int</span>,<span class="keyword">primary</span> key(id),<span class="keyword">foreign</span> key(id) <span class="keyword">references</span> course_description(course_id));</span><br></pre></td></tr></table></figure>

<h4 id="用户定义完整性-1"><a href="#用户定义完整性-1" class="headerlink" title="用户定义完整性"></a>用户定义完整性</h4><h5 id="实现非空"><a href="#实现非空" class="headerlink" title="实现非空"></a>实现非空</h5><p>​	用<strong>not null约束</strong>来修饰码。例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(id <span class="type">char</span>(<span class="number">9</span>) <span class="keyword">primary</span> key,age <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>

<h5 id="实现列值唯一"><a href="#实现列值唯一" class="headerlink" title="实现列值唯一"></a>实现列值唯一</h5><p>​	用<strong>unique约束</strong>来修饰码。例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(id <span class="type">char</span>(<span class="number">9</span>) <span class="keyword">primary</span> key,age <span class="type">int</span> <span class="keyword">unique</span>);</span><br></pre></td></tr></table></figure>

<h5 id="实现让列值满足某一个条件表达式"><a href="#实现让列值满足某一个条件表达式" class="headerlink" title="实现让列值满足某一个条件表达式"></a>实现让列值满足某一个条件表达式</h5><p>​	用<strong>check子句</strong>来修饰码。例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(id <span class="type">char</span>(<span class="number">9</span>) <span class="keyword">primary</span> key,sex <span class="type">char</span>(<span class="number">2</span>) <span class="keyword">check</span>(sex <span class="keyword">in</span> (<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>)),age <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>

<p>​	以上就实现了限定sex的值就只能是’男’或者’女’。</p>
<h3 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h3><p>​	在SQL中可以使⽤数据定义语⾔中的<strong>create assertion语句</strong>，通过声明性断⾔（declarative assertions）来<strong>指定更具⼀般性的约束</strong>。可以定义涉及多个表或聚集操作的⽐较复杂的完整性约束。<strong>断⾔创建以后，任何对断⾔中所涉及关系的操作都会触发关系数据库管理系统对断⾔的检查，任何使断⾔不为真值得操作都会被拒绝执⾏</strong>。</p>
<h4 id="创建断言"><a href="#创建断言" class="headerlink" title="创建断言"></a>创建断言</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> assertion <span class="operator">&lt;</span>断言名<span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="keyword">check</span>子句<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<p>​	进行相关操作时，如果使check子句中的表达式的值不为真，那么对应操作会被拒绝执行。</p>
<p>例：</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220513135614485.png" alt="image-20220513135614485"></p>
<h4 id="删除断言"><a href="#删除断言" class="headerlink" title="删除断言"></a>删除断言</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> assertion <span class="operator">&lt;</span>断言名<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a>触发器</h3><p>​	触发器也叫做<strong>事件-&gt;条件-&gt;动作 规则</strong>，当对一个表进行增删改的时候，关系数据库管理系统会对触发器里面的条件进行检查，如果成立，就执行触发器里面的动作，否则不执行。</p>
<h4 id="创建触发器"><a href="#创建触发器" class="headerlink" title="创建触发器"></a>创建触发器</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> <span class="operator">&lt;</span>触发器名<span class="operator">&gt;</span></span><br><span class="line">before<span class="operator">|</span>after <span class="operator">&lt;</span>触发事件<span class="operator">&gt;</span> <span class="keyword">on</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> <span class="comment">/*指明触发器激活的时间是在执行触发事件前或后*/</span></span><br><span class="line"><span class="keyword">referencing</span> <span class="keyword">new</span><span class="operator">|</span>oldrow <span class="keyword">as</span> <span class="operator">&lt;</span>别名<span class="operator">&gt;</span> <span class="comment">/*referencing指出引用的变量*/</span></span><br><span class="line"><span class="keyword">for</span> <span class="keyword">each</span> <span class="type">row</span><span class="operator">|</span>statement <span class="comment">/*定义触发器的类型，指明动作体执行的频率*/</span></span><br><span class="line">[<span class="keyword">when</span> <span class="operator">&lt;</span>触发条件<span class="operator">&gt;</span>] <span class="operator">&lt;</span>触发动作体<span class="operator">&gt;</span>; <span class="comment">/*仅当触发条件为真时才执行触发动作体*/</span></span><br></pre></td></tr></table></figure>

<p>例：</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220513143752439.png" alt="image-20220513143752439"></p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220513143830491.png" alt="image-20220513143830491"></p>
<h4 id="删除触发器"><a href="#删除触发器" class="headerlink" title="删除触发器"></a>删除触发器</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">trigger</span> <span class="operator">&lt;</span>触发器名<span class="operator">&gt;</span> <span class="keyword">on</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="第六章-关系数据库理论"><a href="#第六章-关系数据库理论" class="headerlink" title="第六章 关系数据库理论"></a>第六章 关系数据库理论</h2><h3 id="为什么引入范式"><a href="#为什么引入范式" class="headerlink" title="为什么引入范式"></a>为什么引入范式</h3><p>1、数据冗余</p>
<p>2、更新异常</p>
<p>3、插入异常</p>
<p>4、删除异常</p>
<h3 id="范式分类"><a href="#范式分类" class="headerlink" title="范式分类"></a>范式分类</h3><p>​	设计关系数据库时，遵从不同的规范要求，这些不同的规范要求被称为不同的范式，各种范式成递次规范，<strong>越高的范式数据库冗余越小</strong>。</p>
<p>​	目前关系数据库有六种范式：第一范式（1NF）、第二范式（2NF）、第三范式（3NF）、巴斯-科德范式（BCNF）、第四范式（4NF）、第五范式（5NF 又称完美范式）。</p>
<p>​	一般来说，数据库只需要满足第三范式（3NF）就行了。</p>
<h3 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h3><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220513180427888.png" alt="image-20220513180427888"></p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220513180622793.png" alt="image-20220513180622793"></p>
<p>​	这里的**-&gt;<strong>的意义是</strong>左边决定右边的部分值**，是大范围决定小范围，和数学中的定义不太一样。</p>
<h3 id="候选码"><a href="#候选码" class="headerlink" title="候选码"></a>候选码</h3><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><p>​	若关系中的一个属性或属性组的值能够唯一地标识一个元组，且他的真子集不能唯一的标识一个元组，则称这个属性或属性组做<em>候选码</em>。</p>
<p>​	简单的说就是候选码是<strong>最小的</strong>可以由它<strong>推出所有属性</strong>的属性或属性组。</p>
<h4 id="如何选出候选码？"><a href="#如何选出候选码？" class="headerlink" title="如何选出候选码？"></a>如何选出候选码？</h4><p>1、只出现在左边的一定是候选码</p>
<p>2、只出现在右边的一定不是候选码</p>
<p>3、左右都出现的不一定</p>
<p>4、左右都不出现的一定是候选码</p>
<p>5、再求确定的候选码的闭包，如果可以推出全部，那么当前确定的就是候选码，否则，要把每一个可能的值放进当前确定的候选码中求闭包。</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220513183536740.png" alt="image-20220513183536740"></p>
<h3 id="超码"><a href="#超码" class="headerlink" title="超码"></a>超码</h3><p>​	能表示出所有属性的<strong>集合</strong>。<strong>候选码是最小的超码</strong>。</p>
<h3 id="主码"><a href="#主码" class="headerlink" title="主码"></a>主码</h3><p>​	从候选码里面任意挑出一个候选码作为主码。</p>
<h3 id="主属性"><a href="#主属性" class="headerlink" title="主属性"></a>主属性</h3><p>​	包含在候选码中的属性。上例为ABCDE</p>
<h3 id="非主属性"><a href="#非主属性" class="headerlink" title="非主属性"></a>非主属性</h3><p>​	不包含在候选码中的属性。上例为G</p>
<h3 id="全码"><a href="#全码" class="headerlink" title="全码"></a>全码</h3><p>​	若关系中只有一个候选码,且这个候选码中包含全部属性,则该候选码为全码。</p>
<h3 id="三大范式"><a href="#三大范式" class="headerlink" title="三大范式"></a>三大范式</h3><h4 id="第一范式（1NF）"><a href="#第一范式（1NF）" class="headerlink" title="第一范式（1NF）"></a>第一范式（1NF）</h4><p>​	所有字段值都是不可分解的原子值。</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220513192011470.png" alt="image-20220513192011470"></p>
<h4 id="第二范式（2NF）"><a href="#第二范式（2NF）" class="headerlink" title="第二范式（2NF）"></a>第二范式（2NF）</h4><p>​	在第一范式的基础上不包含非主属性对码的部分函数依赖。即一个表中只能保存一种数据，不可以吧多种数据保存在同一张数据库表中。</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220513192349788.png" alt="image-20220513192349788"></p>
<h4 id="第三范式（3NF）"><a href="#第三范式（3NF）" class="headerlink" title="第三范式（3NF）"></a>第三范式（3NF）</h4><p>​	在第二范式的基础上不包含非主属性对码的传递函数依赖。即确保数据表中的每一列数据都和主键直接相关，而不能间接相关。</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220513192724094.png" alt="image-20220513192724094"></p>
<h4 id="巴斯-科德范式（BCNF）"><a href="#巴斯-科德范式（BCNF）" class="headerlink" title="巴斯-科德范式（BCNF）"></a>巴斯-科德范式（BCNF）</h4><p>​	BCNF是对第三范式的修正，在第三范式的基础上它消除了每一属性对候选键的传递依赖。</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220513193109337.png" alt="image-20220513193109337"></p>
<h3 id="公理系统"><a href="#公理系统" class="headerlink" title="公理系统"></a>公理系统</h3><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220513193243108.png" alt="image-20220513193243108"></p>
<h3 id="求最小函数的依赖值"><a href="#求最小函数的依赖值" class="headerlink" title="求最小函数的依赖值"></a>求最小函数的依赖值</h3><h4 id="什么是依赖"><a href="#什么是依赖" class="headerlink" title="什么是依赖"></a>什么是依赖</h4><p>​	依赖是指关系中一个或一组属性的值可以决定其它属性的值。比如A-&gt;B就是一个依赖。这里实际上就和数学中的”推出”加以区分了，数学中是从左边能推出右边，但在这里是左边能决定右边的部分值，前者是小推大，后者是大决定小。</p>
<h4 id="如何求最小依赖集"><a href="#如何求最小依赖集" class="headerlink" title="如何求最小依赖集"></a>如何求最小依赖集</h4><p>1、<strong>将右边有多个元素的依赖拆分成右边只有单个元素的依赖</strong>。比如A-&gt;BC拆为A-&gt;B和A-&gt;C</p>
<p>2、<strong>依次选择依赖集中的所有依赖</strong>，每次选中后，先<strong>暂时屏蔽掉当前的依赖</strong>，然后<strong>求当前依赖左边的闭包</strong>，看看<strong>是否能推出当前依赖的右边</strong>，如果不能推出，说明只能通过当前依赖来推得右边，因此保留当前依赖；如果能推出，意味着通过别的方式也能得到当前依赖的右边，因此当前依赖是多余的，要删除当前依赖。</p>
<p>3、使左边最小化，<strong>选出左边有多个属性的依赖，依次遮住左边单个属性，看剩余属性能否推出被遮住的属性</strong>，能推出意味着可以用其他方式得到被遮住的属性，因此要把被遮住的属性删除；如果不能推出，说明不能用其他方式得到被遮住的属性，因此要保留被遮住的属性。</p>
<h3 id="模式分解"><a href="#模式分解" class="headerlink" title="模式分解"></a>模式分解</h3><h4 id="准则"><a href="#准则" class="headerlink" title="准则"></a>准则</h4><p>​	<strong>无损连接</strong>和<strong>保持函数依赖</strong></p>
<p>​	无损：就是分解后再次连接，和分解之前一样。</p>
<p>​	保持函数依赖：分解后再次连接，函数依赖不变。</p>
<h3 id="求保持函数依赖的3NF的分解"><a href="#求保持函数依赖的3NF的分解" class="headerlink" title="求保持函数依赖的3NF的分解"></a>求保持函数依赖的3NF的分解</h3><p>1、求出最小函数依赖集</p>
<p>2、把不在原依赖集中的属性找出来，单独作为一类</p>
<p>3、看求出来的最小函数依赖集，把左边相同的依赖分成一类，去掉中间的’-&gt;’。比如如果左边有A的只有A-&gt;D这一个依赖，那么分类后就是{AD}；如果左边有A的有A-&gt;B和A-&gt;C，那么分类后就是{ABC}。</p>
<p>4、求候选码，如果候选码没有出现在分离后的结果里，则把任意一个候选码作为一类。</p>
<p>5、将刚才分的所有类写到一起，就是分解的答案。</p>
<p>例：</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220513231847404.png" alt="image-20220513231847404"></p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220513231859400.png" alt="image-20220513231859400"></p>
<hr>
<h2 id="第七章-数据库设计"><a href="#第七章-数据库设计" class="headerlink" title="第七章 数据库设计"></a>第七章 数据库设计</h2><h3 id="数据库设计的基本步骤"><a href="#数据库设计的基本步骤" class="headerlink" title="数据库设计的基本步骤"></a>数据库设计的基本步骤</h3><p>1、需求分析</p>
<p>2、概念结构设计：ER图或者是设计数据字典</p>
<p>3、逻辑结构设计：把ER图转为逻辑模型</p>
<p>4、物理结构设计：把逻辑模型转为物理模型</p>
<p>5、数据库实施：写SQL代码</p>
<p>6、数据库运行维护：性能检测、性能优化</p>
<h3 id="ER图"><a href="#ER图" class="headerlink" title="ER图"></a>ER图</h3><p>​	<strong>实体用长方形体现，属性用圆形体现，关系用菱形体现，还要要写出两个实体集之间的对应关系（1:N,1:1,N:N等），不在实体中的属性要挂载到关系上作为关系的属性</strong>。</p>
<p>例：</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220514134830979.png" alt="image-20220514134830979"></p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220514135212584.png" alt="image-20220514135212584"></p>
<h3 id="将ER图转换为关系模式"><a href="#将ER图转换为关系模式" class="headerlink" title="将ER图转换为关系模式"></a>将ER图转换为关系模式</h3><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220514141426012.png" alt="image-20220514141426012"></p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220514141438620.png" alt="image-20220514141438620"></p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220514141501633.png" alt="就是将关系的属性和两边的主键组合成一个新的关系模式"></p>
<p>例：</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220514142517629.png" alt="image-20220514142517629"></p>
<hr>
<h2 id="第八章-数据库编程"><a href="#第八章-数据库编程" class="headerlink" title="第八章 数据库编程"></a>第八章 数据库编程</h2><h3 id="嵌入式SQL"><a href="#嵌入式SQL" class="headerlink" title="嵌入式SQL"></a>嵌入式SQL</h3><p>​	就是把SQL语句嵌入到其他编程语言里面。</p>
<h3 id="嵌入式SQL的处理过程"><a href="#嵌入式SQL的处理过程" class="headerlink" title="嵌入式SQL的处理过程"></a>嵌入式SQL的处理过程</h3><p>1、预编译转换为函数调用</p>
<p>2、主语言编译</p>
<p>3、变成主语言所编译的类型</p>
<h3 id="SQL与主语言的通信"><a href="#SQL与主语言的通信" class="headerlink" title="SQL与主语言的通信"></a>SQL与主语言的通信</h3><p>1、SQL给主语言传递状态</p>
<p>2、主语言给SQL提供参数</p>
<p>3、SQL把查询结果交给主语言处理（通过游标和主变量实现）</p>
<hr>
<h2 id="第九章-关系查询处理和优化"><a href="#第九章-关系查询处理和优化" class="headerlink" title="第九章 关系查询处理和优化"></a>第九章 关系查询处理和优化</h2><h3 id="查询过程"><a href="#查询过程" class="headerlink" title="查询过程"></a>查询过程</h3><p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220514151513608.png" alt="image-20220514151513608"></p>
<h3 id="查询优化的四个阶段"><a href="#查询优化的四个阶段" class="headerlink" title="查询优化的四个阶段"></a>查询优化的四个阶段</h3><p>1、查询分析</p>
<p>2、查询检查</p>
<p>3、查询优化</p>
<p>4、查询执行</p>
<p>查询优化包括代数优化、物理优化。</p>
<h3 id="如何进行代数优化"><a href="#如何进行代数优化" class="headerlink" title="如何进行代数优化"></a>如何进行代数优化</h3><p>1、选择运算尽量先做</p>
<p>2、把投影运算和选择运算同时执行</p>
<p>3、把投影同它前后的双目运算符连接起来</p>
<p>例：</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220514152307831.png" alt="image-20220514152307831"></p>
<p>感觉就是让连接的内容尽量少，可能是连接比较消耗资源？</p>
<hr>
<h2 id="第十章-数据恢复技术"><a href="#第十章-数据恢复技术" class="headerlink" title="第十章 数据恢复技术"></a>第十章 数据恢复技术</h2><h3 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h3><h4 id="事务的四大特性（ACID）"><a href="#事务的四大特性（ACID）" class="headerlink" title="事务的四大特性（ACID）"></a>事务的四大特性（ACID）</h4><p>A：原子性（atom），要么全做，要么全不做。</p>
<p>C：一致性（consistent），一个或多个事务执行后，原来一致的数据和数据库仍然是一致的。一致性与原子性密切相关，要么全做要么全不做，否则就会造成数据不一致，比如说：银行汇钱，两边都需要有操作，才能保证数据的一致，不然可能出现账户多出或减少钱的情况。</p>
<p>I：隔离性（isolate），一个事务的执行不能被其他事务所干扰。</p>
<p>D：持久性（duration），数据库的改变是永久的。比如要落入磁盘。</p>
<h3 id="故障种类"><a href="#故障种类" class="headerlink" title="故障种类"></a>故障种类</h3><p>1、事务内部故障，可采取REDO重做和UNDO撤销技术。</p>
<p>2、系统故障，比如系统突然停转，可以采取系统重启的方式。</p>
<p>3、介质故障，比如硬件损坏。</p>
<p>4、计算机病毒。</p>
<h3 id="恢复方式"><a href="#恢复方式" class="headerlink" title="恢复方式"></a>恢复方式</h3><h4 id="数据转储"><a href="#数据转储" class="headerlink" title="数据转储"></a>数据转储</h4><p>​	对失败的事务重新执行。</p>
<h4 id="日志文件"><a href="#日志文件" class="headerlink" title="日志文件"></a>日志文件</h4><p>​	记录事务对数据的更新操作的文件。</p>
<h3 id="恢复策略"><a href="#恢复策略" class="headerlink" title="恢复策略"></a>恢复策略</h3><h4 id="事务故障的恢复"><a href="#事务故障的恢复" class="headerlink" title="事务故障的恢复"></a>事务故障的恢复</h4><p>​	事务异常终止，那么就撤销之前的所有操作。</p>
<h4 id="系统故障的恢复"><a href="#系统故障的恢复" class="headerlink" title="系统故障的恢复"></a>系统故障的恢复</h4><p>​	还没执行完的事务UNDO撤销、丢失的事务REDO重做。</p>
<h4 id="介质故障的恢复"><a href="#介质故障的恢复" class="headerlink" title="介质故障的恢复"></a>介质故障的恢复</h4><p>​	重装数据库，重做已经完成的事务。</p>
<p>例：</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220514155741270.png" alt="image-20220514155741270"></p>
<hr>
<h2 id="第十一章-并发控制"><a href="#第十一章-并发控制" class="headerlink" title="第十一章 并发控制"></a>第十一章 并发控制</h2><p>​	并发实际上在这里就是指多个事务同时执行，而这样做会带来很多问题。</p>
<h3 id="并发带来的问题"><a href="#并发带来的问题" class="headerlink" title="并发带来的问题"></a>并发带来的问题</h3><h4 id="丢失修改"><a href="#丢失修改" class="headerlink" title="丢失修改"></a>丢失修改</h4><p>​	指在一个事务读取一个数据时，另外一个事务也访问了该数据，那么在第一个事务中修改了这个数据后，第二个事务也修改了这个数据。这样第一个事务内的修改结果就被丢失，因此称为丢失修改。比如原价99，我改价格为299，与此同时有人把价格改成了49，那我最后读到的是49，我自己的修改没有生效。</p>
<h4 id="脏读"><a href="#脏读" class="headerlink" title="脏读"></a>脏读</h4><p>​	脏读又称无效数据的读出，是指在数据库访问中，事务T1将某一值修改，还没提交事务的时候，事务T2读取该值，此后T1因为某种原因撤销对该值的修改，这就导致了T2所读取到的数据是无效的，值得注意的是，脏读一般是针对于update操作的。对脏数据进行的操作可能是不正确的。</p>
<h4 id="不可重复读"><a href="#不可重复读" class="headerlink" title="不可重复读"></a>不可重复读</h4><p>​	指在一个事务内多次读同一数据。在这个事务还没有结束时，另一个事务也访问该数据。那么，在第一个事务中的两次读数据之间，由于第二个事务的修改导致第一个事务两次读取的数据可能不太一样。这就发生了在一个事务内两次读到的数据是不一样的情况，因此称为不可重复读。</p>
<h4 id="幻读"><a href="#幻读" class="headerlink" title="幻读"></a>幻读</h4><p>​	幻读与不可重复读类似。它发生在一个事务（T1）读取了几行数据，接着另一个并发事务（T2）插入了一些数据时。在随后的查询中，第一个事务（T1）就会发现多了一些原本不存在的记录，就好像发生了幻觉一样，所以称为幻读。</p>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p>​	可以通过上锁解决以上问题，即在一个事务进行操作的时候，别的事务无法对相关数据进行操作，保证了第一个事务可以顺利完成。</p>
<h4 id="排它锁"><a href="#排它锁" class="headerlink" title="排它锁"></a>排它锁</h4><p>​	也叫<strong>写锁</strong>、<strong>X锁</strong>。</p>
<h4 id="共享锁"><a href="#共享锁" class="headerlink" title="共享锁"></a>共享锁</h4><p>​	也叫<strong>读锁</strong>、<strong>S锁</strong>。</p>
<h3 id="封锁协议"><a href="#封锁协议" class="headerlink" title="封锁协议"></a>封锁协议</h3><h4 id="一级封锁协议"><a href="#一级封锁协议" class="headerlink" title="一级封锁协议"></a>一级封锁协议</h4><p>​	修改时必须加X锁，直到当前事务结束提交。</p>
<p>​	解决了丢失修改。</p>
<h4 id="二级封锁协议"><a href="#二级封锁协议" class="headerlink" title="二级封锁协议"></a>二级封锁协议</h4><p>​	读的时候加S锁，读完就放开S锁。</p>
<p>​	解决了脏读。</p>
<h4 id="三级封锁协议"><a href="#三级封锁协议" class="headerlink" title="三级封锁协议"></a>三级封锁协议</h4><p>​	读的时候加S锁，直到当前事务结束提交。</p>
<p>​	解决了不可重复读。</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220514163231101.png" alt="image-20220514163231101"></p>
<h3 id="可串行性"><a href="#可串行性" class="headerlink" title="可串行性"></a>可串行性</h3><p>​	假设多种顺序执行事务都可以，获得所有顺序执行事务的结果，如果并发执行的结果满足得到的任意一个结果，那么就说明这些事务满足可串行性。</p>
<p><img src="https://gitee.com/Konjacor/konjacor-img-repo/raw/master/img/image-20220514163850934.png" alt="image-20220514163850934"></p>
<hr>
<p>完结撒花，以后有补充再回来更新吧。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://Konjacor.github.io">Konjacer</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://konjacor.github.io/2022/05/09/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">https://konjacor.github.io/2022/05/09/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://Konjacor.github.io" target="_blank">孤舟</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><a class="post-meta__tags" href="/tags/%E6%9C%9F%E6%9C%AB%E4%BF%9D%E5%91%BD/">期末保命</a></div><div class="post_share"><div class="social-share" data-image="/img/background.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/05/10/hexo%E5%8D%9A%E5%AE%A2%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E7%BD%91%E7%BB%9C%E5%9B%BE%E7%89%87%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"><img class="prev-cover" src="/img/background.jpeg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">hexo博客无法访问网络图片的解决方案</div></div></a></div><div class="next-post pull-right"><a href="/2022/05/08/%E4%BB%8E%E7%BB%8F%E5%85%B8%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98%E7%9C%8B%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%9A%84%E6%80%9D%E6%83%B3/"><img class="next-cover" src="/img/background.jpeg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">从经典动态规划问题看动态规划的思想</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/xiaozhai.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Konjacer</div><div class="author-info__description">真我不拘于形</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Konjacor" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1175590069@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://gitee.com/Konjacor" target="_blank" title="Gitee"><i class="fa-solid fa-g"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E9%87%8D%E7%82%B9"><span class="toc-number">1.</span> <span class="toc-text">数据库期末复习重点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E7%BB%AA%E8%AE%BA"><span class="toc-number">1.1.</span> <span class="toc-text">第一章 绪论</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8D%E8%AF%8D%E7%90%86%E8%A7%A3"><span class="toc-number">1.1.1.</span> <span class="toc-text">名词理解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.1.1.3.</span> <span class="toc-text">数据库管理系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.1.1.4.</span> <span class="toc-text">数据库系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%BA%E5%B7%A5%E7%AE%A1%E7%90%86%E9%98%B6%E6%AE%B5"><span class="toc-number">1.1.1.5.</span> <span class="toc-text">人工管理阶段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E9%98%B6%E6%AE%B5"><span class="toc-number">1.1.1.6.</span> <span class="toc-text">文件系统阶段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E9%98%B6%E6%AE%B5"><span class="toc-number">1.1.1.7.</span> <span class="toc-text">数据库管理系统阶段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A4%E7%B1%BB%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.1.1.8.</span> <span class="toc-text">两类数据模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.1.1.9.</span> <span class="toc-text">概念模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93"><span class="toc-number">1.1.1.10.</span> <span class="toc-text">实体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7"><span class="toc-number">1.1.1.11.</span> <span class="toc-text">属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A0%81"><span class="toc-number">1.1.1.12.</span> <span class="toc-text">码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E5%9E%8B"><span class="toc-number">1.1.1.13.</span> <span class="toc-text">实体型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E9%9B%86"><span class="toc-number">1.1.1.14.</span> <span class="toc-text">实体集</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%81%94%E7%B3%BB"><span class="toc-number">1.1.1.15.</span> <span class="toc-text">联系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.1.1.16.</span> <span class="toc-text">逻辑模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.1.1.17.</span> <span class="toc-text">物理模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB"><span class="toc-number">1.1.1.18.</span> <span class="toc-text">关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%BB%84"><span class="toc-number">1.1.1.19.</span> <span class="toc-text">元组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-1"><span class="toc-number">1.1.1.20.</span> <span class="toc-text">属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A0%81-1"><span class="toc-number">1.1.1.21.</span> <span class="toc-text">码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%9F"><span class="toc-number">1.1.1.22.</span> <span class="toc-text">域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E9%87%8F"><span class="toc-number">1.1.1.23.</span> <span class="toc-text">分量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%93%E6%9E%84"><span class="toc-number">1.1.2.</span> <span class="toc-text">数据库系统的结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-number">1.1.3.</span> <span class="toc-text">数据库系统的组成</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.2.</span> <span class="toc-text">第二章 关系数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%EF%BC%88%E4%BA%86%E8%A7%A3%E5%8D%B3%E5%8F%AF%EF%BC%89"><span class="toc-number">1.2.1.</span> <span class="toc-text">关系模式（了解即可）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.2.</span> <span class="toc-text">关系操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%AF%AD%E8%A8%80%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.2.3.</span> <span class="toc-text">关系语言的分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E8%AF%AD%E8%A8%80"><span class="toc-number">1.2.4.</span> <span class="toc-text">关系代数语言</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%A4"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">交</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">并</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%AE"><span class="toc-number">1.2.4.3.</span> <span class="toc-text">差</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF"><span class="toc-number">1.2.4.4.</span> <span class="toc-text">笛卡尔积</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9"><span class="toc-number">1.2.4.5.</span> <span class="toc-text">选择</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%95%E5%BD%B1"><span class="toc-number">1.2.4.6.</span> <span class="toc-text">投影</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.2.4.7.</span> <span class="toc-text">连接</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%87%AA%E7%84%B6%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.2.4.7.1.</span> <span class="toc-text">自然连接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%82%AC%E6%B5%AE%E5%85%83%E7%BB%84"><span class="toc-number">1.2.4.7.2.</span> <span class="toc-text">悬浮元组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.2.4.7.3.</span> <span class="toc-text">外连接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.2.4.7.4.</span> <span class="toc-text">左外连接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.2.4.7.5.</span> <span class="toc-text">右外连接</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%A4"><span class="toc-number">1.2.4.8.</span> <span class="toc-text">除</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">1.2.5.</span> <span class="toc-text">关系的完整性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">1.2.5.1.</span> <span class="toc-text">实体完整性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E7%85%A7%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">1.2.5.2.</span> <span class="toc-text">参照完整性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%AE%9A%E4%B9%89%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">1.2.5.3.</span> <span class="toc-text">用户定义完整性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-SQL%E8%AF%AD%E8%A8%80"><span class="toc-number">1.3.</span> <span class="toc-text">第三章 SQL语言</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.3.1.</span> <span class="toc-text">SQL的基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%E8%AF%AD%E8%A8%80%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">1.3.2.</span> <span class="toc-text">SQL语言的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">1.3.3.</span> <span class="toc-text">SQL的基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%88%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B%EF%BC%89"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">SQL的数据类型（变量类型）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89-amp-%E5%88%A0%E9%99%A4"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">模式定义&amp;删除</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89"><span class="toc-number">1.3.3.2.1.</span> <span class="toc-text">模式定义</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89-%E8%A7%86%E5%9B%BE"><span class="toc-number">1.3.3.2.2.</span> <span class="toc-text">模式定义+视图</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%88%A0%E9%99%A4"><span class="toc-number">1.3.3.2.3.</span> <span class="toc-text">模式删除</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E5%88%A0%E9%99%A4%E5%92%8C%E4%BF%AE%E6%94%B9"><span class="toc-number">1.3.3.3.</span> <span class="toc-text">表的定义和删除和修改</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">1.3.3.3.1.</span> <span class="toc-text">表的定义</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E5%88%A0%E9%99%A4"><span class="toc-number">1.3.3.3.2.</span> <span class="toc-text">表的删除</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="toc-number">1.3.3.3.3.</span> <span class="toc-text">表的修改</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E7%9A%84%E5%BB%BA%E7%AB%8B%E3%80%81%E4%BF%AE%E6%94%B9%E5%92%8C%E5%88%A0%E9%99%A4"><span class="toc-number">1.3.3.4.</span> <span class="toc-text">索引的建立、修改和删除</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E7%9A%84%E5%BB%BA%E7%AB%8B"><span class="toc-number">1.3.3.4.1.</span> <span class="toc-text">索引的建立</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="toc-number">1.3.3.4.2.</span> <span class="toc-text">索引的修改</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E7%9A%84%E5%88%A0%E9%99%A4"><span class="toc-number">1.3.3.4.3.</span> <span class="toc-text">索引的删除</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%88%97"><span class="toc-number">1.3.3.5.</span> <span class="toc-text">查询列</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E9%83%A8%E5%88%86%E5%88%97"><span class="toc-number">1.3.3.5.1.</span> <span class="toc-text">查询部分列</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E5%88%97"><span class="toc-number">1.3.3.5.2.</span> <span class="toc-text">查询所有列</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%93%E6%9E%9C%E5%8E%BB%E9%87%8D"><span class="toc-number">1.3.3.5.3.</span> <span class="toc-text">结果去重</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.3.3.5.4.</span> <span class="toc-text">条件查询</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%81%9A%E9%9B%86%E5%87%BD%E6%95%B0"><span class="toc-number">1.3.3.6.</span> <span class="toc-text">聚集函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.3.3.7.</span> <span class="toc-text">分组查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.3.3.8.</span> <span class="toc-text">表的连接</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.3.3.8.1.</span> <span class="toc-text">非等值连接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.3.3.8.2.</span> <span class="toc-text">等值连接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%87%AA%E8%BA%AB%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.3.3.8.3.</span> <span class="toc-text">自身连接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.3.3.8.4.</span> <span class="toc-text">内连接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%96%E8%BF%9E%E6%8E%A5-1"><span class="toc-number">1.3.3.8.5.</span> <span class="toc-text">外连接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5-1"><span class="toc-number">1.3.3.8.6.</span> <span class="toc-text">左外连接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5-1"><span class="toc-number">1.3.3.8.7.</span> <span class="toc-text">右外连接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.3.3.8.8.</span> <span class="toc-text">多表连接</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.3.3.9.</span> <span class="toc-text">嵌套查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%A6%E6%9C%89any%E3%80%81all%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.3.3.10.</span> <span class="toc-text">带有any、all的子查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%A6exists%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.3.3.11.</span> <span class="toc-text">带exists的子查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.3.3.12.</span> <span class="toc-text">集合查询</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B9%B6-1"><span class="toc-number">1.3.3.12.1.</span> <span class="toc-text">并</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%A4-1"><span class="toc-number">1.3.3.12.2.</span> <span class="toc-text">交</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B7%AE-1"><span class="toc-number">1.3.3.12.3.</span> <span class="toc-text">差</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8F%92%E5%85%A5"><span class="toc-number">1.3.3.13.</span> <span class="toc-text">数据插入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BF%AE%E6%94%B9"><span class="toc-number">1.3.3.14.</span> <span class="toc-text">数据修改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%88%A0%E9%99%A4"><span class="toc-number">1.3.3.15.</span> <span class="toc-text">数据删除</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">1.3.3.16.</span> <span class="toc-text">视图的概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE"><span class="toc-number">1.3.3.17.</span> <span class="toc-text">创建视图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A7%86%E5%9B%BE"><span class="toc-number">1.3.3.18.</span> <span class="toc-text">删除视图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E8%A7%86%E5%9B%BE"><span class="toc-number">1.3.3.19.</span> <span class="toc-text">查询视图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E8%A7%86%E5%9B%BE"><span class="toc-number">1.3.3.20.</span> <span class="toc-text">更新视图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#if%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.3.3.21.</span> <span class="toc-text">if条件语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F"><span class="toc-number">1.3.3.22.</span> <span class="toc-text">对数据进行排序</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7"><span class="toc-number">1.4.</span> <span class="toc-text">第四章 数据库的安全性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.4.1.</span> <span class="toc-text">概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%AE%89%E5%85%A8%E5%9B%A0%E7%B4%A0"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">不安全因素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E4%B8%BB%E5%AD%98%E5%8F%96%E6%8E%A7%E5%88%B6%E6%96%B9%E6%B3%95"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">自主存取控制方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E6%80%A7%E6%8E%A7%E5%88%B6"><span class="toc-number">1.4.2.</span> <span class="toc-text">安全性控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E5%AD%98%E5%8F%96%E6%9D%83%E9%99%90"><span class="toc-number">1.4.3.</span> <span class="toc-text">主要存取权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%88%E6%9D%83"><span class="toc-number">1.4.4.</span> <span class="toc-text">授权</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9E%E6%94%B6%E6%9D%83%E9%99%90"><span class="toc-number">1.4.5.</span> <span class="toc-text">回收权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A7%92%E8%89%B2"><span class="toc-number">1.4.6.</span> <span class="toc-text">数据库角色</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2"><span class="toc-number">1.4.6.1.</span> <span class="toc-text">创建角色</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%92%E8%89%B2%E6%8E%88%E6%9D%83"><span class="toc-number">1.4.6.2.</span> <span class="toc-text">角色授权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%8A%E8%A7%92%E8%89%B2%E6%8E%88%E6%9D%83%E7%BB%99%E7%94%A8%E6%88%B7%E6%88%96%E8%80%85%E5%85%B6%E4%BB%96%E8%A7%92%E8%89%B2"><span class="toc-number">1.4.6.3.</span> <span class="toc-text">把角色授权给用户或者其他角色</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E6%94%B6%E8%A7%92%E8%89%B2%E6%9D%83%E9%99%90"><span class="toc-number">1.4.6.4.</span> <span class="toc-text">回收角色权限</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E6%9C%BA%E5%88%B6"><span class="toc-number">1.4.7.</span> <span class="toc-text">视图机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%A1%E8%AE%A1"><span class="toc-number">1.4.8.</span> <span class="toc-text">审计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%8A%A0%E5%AF%86"><span class="toc-number">1.4.9.</span> <span class="toc-text">数据加密</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">1.5.</span> <span class="toc-text">第五章 数据库的完整性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E7%A1%AE%E6%80%A7"><span class="toc-number">1.5.1.</span> <span class="toc-text">正确性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%AE%B9%E6%80%A7"><span class="toc-number">1.5.2.</span> <span class="toc-text">相容性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%B4%E6%8A%A4%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">1.5.3.</span> <span class="toc-text">维护完整性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%A4%A7%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">1.5.4.</span> <span class="toc-text">三大完整性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E5%AE%8C%E6%95%B4%E6%80%A7-1"><span class="toc-number">1.5.4.1.</span> <span class="toc-text">实体完整性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E7%85%A7%E5%AE%8C%E6%95%B4%E6%80%A7-1"><span class="toc-number">1.5.4.2.</span> <span class="toc-text">参照完整性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%AE%9A%E4%B9%89%E5%AE%8C%E6%95%B4%E6%80%A7-1"><span class="toc-number">1.5.4.3.</span> <span class="toc-text">用户定义完整性</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E9%9D%9E%E7%A9%BA"><span class="toc-number">1.5.4.3.1.</span> <span class="toc-text">实现非空</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%88%97%E5%80%BC%E5%94%AF%E4%B8%80"><span class="toc-number">1.5.4.3.2.</span> <span class="toc-text">实现列值唯一</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E8%AE%A9%E5%88%97%E5%80%BC%E6%BB%A1%E8%B6%B3%E6%9F%90%E4%B8%80%E4%B8%AA%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.5.4.3.3.</span> <span class="toc-text">实现让列值满足某一个条件表达式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%AD%E8%A8%80"><span class="toc-number">1.5.5.</span> <span class="toc-text">断言</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%AD%E8%A8%80"><span class="toc-number">1.5.5.1.</span> <span class="toc-text">创建断言</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%96%AD%E8%A8%80"><span class="toc-number">1.5.5.2.</span> <span class="toc-text">删除断言</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">1.5.6.</span> <span class="toc-text">触发器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">1.5.6.1.</span> <span class="toc-text">创建触发器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">1.5.6.2.</span> <span class="toc-text">删除触发器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%90%86%E8%AE%BA"><span class="toc-number">1.6.</span> <span class="toc-text">第六章 关系数据库理论</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%BC%95%E5%85%A5%E8%8C%83%E5%BC%8F"><span class="toc-number">1.6.1.</span> <span class="toc-text">为什么引入范式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8C%83%E5%BC%8F%E5%88%86%E7%B1%BB"><span class="toc-number">1.6.2.</span> <span class="toc-text">范式分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96"><span class="toc-number">1.6.3.</span> <span class="toc-text">依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%99%E9%80%89%E7%A0%81"><span class="toc-number">1.6.4.</span> <span class="toc-text">候选码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">1.6.4.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E9%80%89%E5%87%BA%E5%80%99%E9%80%89%E7%A0%81%EF%BC%9F"><span class="toc-number">1.6.4.2.</span> <span class="toc-text">如何选出候选码？</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B6%85%E7%A0%81"><span class="toc-number">1.6.5.</span> <span class="toc-text">超码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E7%A0%81"><span class="toc-number">1.6.6.</span> <span class="toc-text">主码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E5%B1%9E%E6%80%A7"><span class="toc-number">1.6.7.</span> <span class="toc-text">主属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E4%B8%BB%E5%B1%9E%E6%80%A7"><span class="toc-number">1.6.8.</span> <span class="toc-text">非主属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E7%A0%81"><span class="toc-number">1.6.9.</span> <span class="toc-text">全码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%A4%A7%E8%8C%83%E5%BC%8F"><span class="toc-number">1.6.10.</span> <span class="toc-text">三大范式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F%EF%BC%881NF%EF%BC%89"><span class="toc-number">1.6.10.1.</span> <span class="toc-text">第一范式（1NF）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E8%8C%83%E5%BC%8F%EF%BC%882NF%EF%BC%89"><span class="toc-number">1.6.10.2.</span> <span class="toc-text">第二范式（2NF）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F%EF%BC%883NF%EF%BC%89"><span class="toc-number">1.6.10.3.</span> <span class="toc-text">第三范式（3NF）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%B4%E6%96%AF-%E7%A7%91%E5%BE%B7%E8%8C%83%E5%BC%8F%EF%BC%88BCNF%EF%BC%89"><span class="toc-number">1.6.10.4.</span> <span class="toc-text">巴斯-科德范式（BCNF）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AC%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.6.11.</span> <span class="toc-text">公理系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B1%82%E6%9C%80%E5%B0%8F%E5%87%BD%E6%95%B0%E7%9A%84%E4%BE%9D%E8%B5%96%E5%80%BC"><span class="toc-number">1.6.12.</span> <span class="toc-text">求最小函数的依赖值</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E4%BE%9D%E8%B5%96"><span class="toc-number">1.6.12.1.</span> <span class="toc-text">什么是依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%B1%82%E6%9C%80%E5%B0%8F%E4%BE%9D%E8%B5%96%E9%9B%86"><span class="toc-number">1.6.12.2.</span> <span class="toc-text">如何求最小依赖集</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%88%86%E8%A7%A3"><span class="toc-number">1.6.13.</span> <span class="toc-text">模式分解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%86%E5%88%99"><span class="toc-number">1.6.13.1.</span> <span class="toc-text">准则</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B1%82%E4%BF%9D%E6%8C%81%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%E7%9A%843NF%E7%9A%84%E5%88%86%E8%A7%A3"><span class="toc-number">1.6.14.</span> <span class="toc-text">求保持函数依赖的3NF的分解</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%83%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.7.</span> <span class="toc-text">第七章 数据库设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.7.1.</span> <span class="toc-text">数据库设计的基本步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ER%E5%9B%BE"><span class="toc-number">1.7.2.</span> <span class="toc-text">ER图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86ER%E5%9B%BE%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.7.3.</span> <span class="toc-text">将ER图转换为关系模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%85%AB%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BC%96%E7%A8%8B"><span class="toc-number">1.8.</span> <span class="toc-text">第八章 数据库编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B5%8C%E5%85%A5%E5%BC%8FSQL"><span class="toc-number">1.8.1.</span> <span class="toc-text">嵌入式SQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B5%8C%E5%85%A5%E5%BC%8FSQL%E7%9A%84%E5%A4%84%E7%90%86%E8%BF%87%E7%A8%8B"><span class="toc-number">1.8.2.</span> <span class="toc-text">嵌入式SQL的处理过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%E4%B8%8E%E4%B8%BB%E8%AF%AD%E8%A8%80%E7%9A%84%E9%80%9A%E4%BF%A1"><span class="toc-number">1.8.3.</span> <span class="toc-text">SQL与主语言的通信</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B9%9D%E7%AB%A0-%E5%85%B3%E7%B3%BB%E6%9F%A5%E8%AF%A2%E5%A4%84%E7%90%86%E5%92%8C%E4%BC%98%E5%8C%96"><span class="toc-number">1.9.</span> <span class="toc-text">第九章 关系查询处理和优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E8%BF%87%E7%A8%8B"><span class="toc-number">1.9.1.</span> <span class="toc-text">查询过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E7%9A%84%E5%9B%9B%E4%B8%AA%E9%98%B6%E6%AE%B5"><span class="toc-number">1.9.2.</span> <span class="toc-text">查询优化的四个阶段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E4%BB%A3%E6%95%B0%E4%BC%98%E5%8C%96"><span class="toc-number">1.9.3.</span> <span class="toc-text">如何进行代数优化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E7%AB%A0-%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D%E6%8A%80%E6%9C%AF"><span class="toc-number">1.10.</span> <span class="toc-text">第十章 数据恢复技术</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1"><span class="toc-number">1.10.1.</span> <span class="toc-text">事务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%9B%9B%E5%A4%A7%E7%89%B9%E6%80%A7%EF%BC%88ACID%EF%BC%89"><span class="toc-number">1.10.1.1.</span> <span class="toc-text">事务的四大特性（ACID）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%85%E9%9A%9C%E7%A7%8D%E7%B1%BB"><span class="toc-number">1.10.2.</span> <span class="toc-text">故障种类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">1.10.3.</span> <span class="toc-text">恢复方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%82%A8"><span class="toc-number">1.10.3.1.</span> <span class="toc-text">数据转储</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6"><span class="toc-number">1.10.3.2.</span> <span class="toc-text">日志文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E7%AD%96%E7%95%A5"><span class="toc-number">1.10.4.</span> <span class="toc-text">恢复策略</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E6%95%85%E9%9A%9C%E7%9A%84%E6%81%A2%E5%A4%8D"><span class="toc-number">1.10.4.1.</span> <span class="toc-text">事务故障的恢复</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%95%85%E9%9A%9C%E7%9A%84%E6%81%A2%E5%A4%8D"><span class="toc-number">1.10.4.2.</span> <span class="toc-text">系统故障的恢复</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8B%E8%B4%A8%E6%95%85%E9%9A%9C%E7%9A%84%E6%81%A2%E5%A4%8D"><span class="toc-number">1.10.4.3.</span> <span class="toc-text">介质故障的恢复</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0-%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6"><span class="toc-number">1.11.</span> <span class="toc-text">第十一章 并发控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E5%B8%A6%E6%9D%A5%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.11.1.</span> <span class="toc-text">并发带来的问题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A2%E5%A4%B1%E4%BF%AE%E6%94%B9"><span class="toc-number">1.11.1.1.</span> <span class="toc-text">丢失修改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%84%8F%E8%AF%BB"><span class="toc-number">1.11.1.2.</span> <span class="toc-text">脏读</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB"><span class="toc-number">1.11.1.3.</span> <span class="toc-text">不可重复读</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%BB%E8%AF%BB"><span class="toc-number">1.11.1.4.</span> <span class="toc-text">幻读</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"><span class="toc-number">1.11.2.</span> <span class="toc-text">解决方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%92%E5%AE%83%E9%94%81"><span class="toc-number">1.11.2.1.</span> <span class="toc-text">排它锁</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B1%E4%BA%AB%E9%94%81"><span class="toc-number">1.11.2.2.</span> <span class="toc-text">共享锁</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.11.3.</span> <span class="toc-text">封锁协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E7%BA%A7%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.11.3.1.</span> <span class="toc-text">一级封锁协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E7%BA%A7%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.11.3.2.</span> <span class="toc-text">二级封锁协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E7%BA%A7%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.11.3.3.</span> <span class="toc-text">三级封锁协议</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E4%B8%B2%E8%A1%8C%E6%80%A7"><span class="toc-number">1.11.4.</span> <span class="toc-text">可串行性</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/05/11/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%B5%81%E7%A8%8B/" title="Hexo博客搭建流程"><img src="/img/background.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hexo博客搭建流程"/></a><div class="content"><a class="title" href="/2022/05/11/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%B5%81%E7%A8%8B/" title="Hexo博客搭建流程">Hexo博客搭建流程</a><time datetime="2022-05-11T04:40:15.000Z" title="发表于 2022-05-11 12:40:15">2022-05-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/10/Flutter%E9%A1%B9%E7%9B%AE%E4%B8%AD%E8%B7%AF%E7%94%B1%E7%9A%84%E4%BD%BF%E7%94%A8/" title="Flutter项目中路由的使用"><img src="/img/background.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Flutter项目中路由的使用"/></a><div class="content"><a class="title" href="/2022/05/10/Flutter%E9%A1%B9%E7%9B%AE%E4%B8%AD%E8%B7%AF%E7%94%B1%E7%9A%84%E4%BD%BF%E7%94%A8/" title="Flutter项目中路由的使用">Flutter项目中路由的使用</a><time datetime="2022-05-10T14:43:57.000Z" title="发表于 2022-05-10 22:43:57">2022-05-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/10/hexo%E5%8D%9A%E5%AE%A2%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E7%BD%91%E7%BB%9C%E5%9B%BE%E7%89%87%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" title="hexo博客无法访问网络图片的解决方案"><img src="/img/background.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hexo博客无法访问网络图片的解决方案"/></a><div class="content"><a class="title" href="/2022/05/10/hexo%E5%8D%9A%E5%AE%A2%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E7%BD%91%E7%BB%9C%E5%9B%BE%E7%89%87%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" title="hexo博客无法访问网络图片的解决方案">hexo博客无法访问网络图片的解决方案</a><time datetime="2022-05-10T08:28:40.000Z" title="发表于 2022-05-10 16:28:40">2022-05-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/09/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" title="数据库期末复习"><img src="/img/background.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据库期末复习"/></a><div class="content"><a class="title" href="/2022/05/09/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" title="数据库期末复习">数据库期末复习</a><time datetime="2022-05-09T11:00:50.000Z" title="发表于 2022-05-09 19:00:50">2022-05-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/08/%E4%BB%8E%E7%BB%8F%E5%85%B8%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98%E7%9C%8B%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%9A%84%E6%80%9D%E6%83%B3/" title="从经典动态规划问题看动态规划的思想"><img src="/img/background.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="从经典动态规划问题看动态规划的思想"/></a><div class="content"><a class="title" href="/2022/05/08/%E4%BB%8E%E7%BB%8F%E5%85%B8%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98%E7%9C%8B%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%9A%84%E6%80%9D%E6%83%B3/" title="从经典动态规划问题看动态规划的思想">从经典动态规划问题看动态规划的思想</a><time datetime="2022-05-08T07:04:43.000Z" title="发表于 2022-05-08 15:04:43">2022-05-08</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/background.jpeg')"><div id="footer-wrap"><div class="copyright">&copy;2022 By Konjacer</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>