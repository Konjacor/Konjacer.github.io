---
title: Hexo博客搭建流程
date: 2022-05-11 12:40:15
tags: [Hexo,博客搭建]
---

# 摘要

​	作为一个理工科的学生以及未来计算机行业的从业者，随时记录在日常学习和工作中的灵感和经验是非常有必要的，它们可以帮助自己提升自己的能力和开拓自己的思想，用博文来记录这些是非常方便的，博文可以发布到各大平台上，但是那总归是别人的地盘，我们肯定是想要有一个自己的地盘，以便可以实现对它的高度自定义，比如让界面变得更好看，或者是让内容结构变得更合理，在和别人交流的时候我们也可以互相交换博客的地址来进行互相学习。

​	我在我这个台式机上搭建了一个hexo博客，但是以后我肯定是会换电脑的，那么换电脑之后我该怎么持续更新博客呢？只能是重新搭建一下相关的环境，这个过程涉及到一些小细节，我把这些步骤和细节写道这篇博文中持续更新，这样换电脑之后就可以很方便的重新搭建相关环境快速进行更新博客了。

​	**注：以下的hexo和git操作都是在存放博客的文件夹下进行操作的。**

# 所需环境

1. Node.js & npm
2. git

# 搭建步骤

## 下载Hexo框架

​	本来这一步是用npm进行下载Hexo的框架，但是在国内下载速度会非常慢，因此我们可以考虑先用npm下载一个cnpm的工具，将其的镜像源重定向到淘宝的镜像源，这样在国内的下载速度就不会这么慢了。

```
npm install -g cnpm --registry=https://registry.npm.taobao.org
```

​	运行完上面的命令之后cnpm就安装好了，以后都可以用cnpm来代替npm下载东西了，检测cnpm是否安装成功可以使用 **cnpm -v** 命令来检验，如果成功输出版本号说明安装成功了。

​	然后利用cnpm安装hexo框架：

```
cnpm install -g hexo-cli
```

​	运行完上面的命令后hexo的框架应该安装完毕了。可以用**hexo -v**来验证框架是否安装成功。

## 使用Hexo框架来搭建博客

### 给博客找地方

​	首先要找到一个新文件夹用来存放博客相关的文件，如果过程中出现问题可以直接把文件夹删掉重来。

​	然后在终端中将路径切换到刚才选的文件夹下，或者直接在那个文件夹处打开终端，以后对博客的部分操作都会在这个路径下的终端上进行操作。

### 初始化博客

​	然后进行博客的初始化：

```
hexo init
```

​	注意要先配置git在环境变量中这个命令才会生效。	

​	如果没有权限的话首先要切换成管理员然后再敲这个命令，这样博客初始化就完成了。

### 测试博客

​	测试博客可以使用：

```
hexo server 或 hexo s
```

​	这样搭建好的hexo博客就会在本地的4000端口上启动，在浏览器中访问本地的4000端口即可访问到搭建好的博客，可以查验一下效果，等到效果调整好了再推到远端。

### 创建新的博文

使用下列命令：

```
hexo new "博文名称"
```

创建好的博文会以.md文件的格式出现在 **/source/_posts** 文件夹下。

注意：如果直接在 **/source/_posts** 文件夹下创建文件的话，虽然内容可以在网页上显示出来，但是没有标题，最好不要这样做。

## 部署博客到github

### 创建仓库

- 仓库的名字必须是`你的github用户名.github.io`
- 仓库权限用public

### 安装hexo部署到github的插件

使用下列命令：

```
cnpm install hexo-deployer-git --save
```

### 编辑配置文件

找到 **_config.yml** 文件，打开进行编辑，在最后的 **deploy区域** ，按照一下格式书写配置文件，缺什么补什么：

```
# Deployment
## Docs: https://hexo.io/docs/one-command-deployment
deploy:
  type: git
  repo: 完整仓库地址
  branch: 分支名称
```

### 部署到远端

第一次部署的时候使用如下命令：

```
hexo d
```

以后如果想要推送新的内容到博客上的话需要三个步骤：

```
hexo clean
hexo g
hexo d
```

- 注意：由于国内github时而能连时而不能连，所以最后一步推送到远端的步骤出错是很正常的事情，出现这种情况的时候，需要重新走一下那三步，直到成功为止。

# 主题切换

## 找好主题进行克隆

使用下面的命令：

```
git clone git仓库地址 themes/文件夹名
```

克隆好的主题会出现在themes文件夹下你自定义的文件夹中。

## 编辑配置文件切换主题

在 **_config.yml** 文件中修改 **theme** 选项为你想要切换的主题所在的文件夹名。

切换好主题后推到远端需要一段时间才会生效。

# 常见问题

## 在远端访问时，网络图片不显示

这个问题具体的原因好像是因为啥转发啥的，搞得不是很懂，但是可以通过在开头添加以下代码（不要添加到代码块中）解决：

```
<meta name="referrer" content="no-referrer"/>
```

